<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>保留上下文对话 | 迷新白的博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="标签页标题">
    <meta name="baidu-site-verification" content="codeva-nRPVSlBgY1">
    
    <link rel="preload" href="/assets/css/0.styles.6d46e2f3.css" as="style"><link rel="preload" href="/assets/js/app.0678369d.js" as="script"><link rel="preload" href="/assets/js/4.2a819298.js" as="script"><link rel="preload" href="/assets/js/1.459f44db.js" as="script"><link rel="preload" href="/assets/js/3.424b9c9b.js" as="script"><link rel="preload" href="/assets/js/20.86ebaf93.js" as="script"><link rel="prefetch" href="/assets/js/10.b411da95.js"><link rel="prefetch" href="/assets/js/100.86c1fa4f.js"><link rel="prefetch" href="/assets/js/101.51da8083.js"><link rel="prefetch" href="/assets/js/102.6ed4984f.js"><link rel="prefetch" href="/assets/js/103.28740fa2.js"><link rel="prefetch" href="/assets/js/104.dff20c88.js"><link rel="prefetch" href="/assets/js/105.e33ce77b.js"><link rel="prefetch" href="/assets/js/106.610b874c.js"><link rel="prefetch" href="/assets/js/107.74804a1e.js"><link rel="prefetch" href="/assets/js/108.31e50897.js"><link rel="prefetch" href="/assets/js/109.bddc8741.js"><link rel="prefetch" href="/assets/js/11.70c4c821.js"><link rel="prefetch" href="/assets/js/110.88616cd1.js"><link rel="prefetch" href="/assets/js/111.02e407d6.js"><link rel="prefetch" href="/assets/js/112.00c579cd.js"><link rel="prefetch" href="/assets/js/113.58c51772.js"><link rel="prefetch" href="/assets/js/114.8cb5a814.js"><link rel="prefetch" href="/assets/js/115.f104783a.js"><link rel="prefetch" href="/assets/js/116.83652adf.js"><link rel="prefetch" href="/assets/js/117.68afb32e.js"><link rel="prefetch" href="/assets/js/118.1996006a.js"><link rel="prefetch" href="/assets/js/12.fc034411.js"><link rel="prefetch" href="/assets/js/13.bf447d09.js"><link rel="prefetch" href="/assets/js/14.2110d1ef.js"><link rel="prefetch" href="/assets/js/15.a8361dd6.js"><link rel="prefetch" href="/assets/js/16.5e587bb0.js"><link rel="prefetch" href="/assets/js/17.c50e8f3c.js"><link rel="prefetch" href="/assets/js/18.6045c98c.js"><link rel="prefetch" href="/assets/js/19.ffae77cb.js"><link rel="prefetch" href="/assets/js/2.b5f1636b.js"><link rel="prefetch" href="/assets/js/21.72cf51ac.js"><link rel="prefetch" href="/assets/js/22.23919162.js"><link rel="prefetch" href="/assets/js/23.517c5d3c.js"><link rel="prefetch" href="/assets/js/24.a9da4446.js"><link rel="prefetch" href="/assets/js/25.53c77f65.js"><link rel="prefetch" href="/assets/js/26.66d8631a.js"><link rel="prefetch" href="/assets/js/27.115a7249.js"><link rel="prefetch" href="/assets/js/28.849a6b6e.js"><link rel="prefetch" href="/assets/js/29.daed3500.js"><link rel="prefetch" href="/assets/js/30.a5862ca4.js"><link rel="prefetch" href="/assets/js/31.5e3c4540.js"><link rel="prefetch" href="/assets/js/32.318d83b3.js"><link rel="prefetch" href="/assets/js/33.d379353e.js"><link rel="prefetch" href="/assets/js/34.9b34b524.js"><link rel="prefetch" href="/assets/js/35.24fc424f.js"><link rel="prefetch" href="/assets/js/36.26c798dd.js"><link rel="prefetch" href="/assets/js/37.fcf0675c.js"><link rel="prefetch" href="/assets/js/38.517e57b7.js"><link rel="prefetch" href="/assets/js/39.a9e648c3.js"><link rel="prefetch" href="/assets/js/40.8a82b0af.js"><link rel="prefetch" href="/assets/js/41.24b1b6b5.js"><link rel="prefetch" href="/assets/js/42.5e42e841.js"><link rel="prefetch" href="/assets/js/43.bd23299e.js"><link rel="prefetch" href="/assets/js/44.b2b0fe99.js"><link rel="prefetch" href="/assets/js/45.fb893a9b.js"><link rel="prefetch" href="/assets/js/46.6ec41810.js"><link rel="prefetch" href="/assets/js/47.b1238335.js"><link rel="prefetch" href="/assets/js/48.66fc547c.js"><link rel="prefetch" href="/assets/js/49.bd4a733f.js"><link rel="prefetch" href="/assets/js/5.d27e7371.js"><link rel="prefetch" href="/assets/js/50.4c5f00e0.js"><link rel="prefetch" href="/assets/js/51.c47876a4.js"><link rel="prefetch" href="/assets/js/52.f951f159.js"><link rel="prefetch" href="/assets/js/53.292fd804.js"><link rel="prefetch" href="/assets/js/54.4e4f4c4b.js"><link rel="prefetch" href="/assets/js/55.ac9acb08.js"><link rel="prefetch" href="/assets/js/56.6b4556e0.js"><link rel="prefetch" href="/assets/js/57.31c074da.js"><link rel="prefetch" href="/assets/js/58.39209271.js"><link rel="prefetch" href="/assets/js/59.0456f81c.js"><link rel="prefetch" href="/assets/js/6.37db4b1a.js"><link rel="prefetch" href="/assets/js/60.15d8bbb3.js"><link rel="prefetch" href="/assets/js/61.b2f9de3c.js"><link rel="prefetch" href="/assets/js/62.6dd7f506.js"><link rel="prefetch" href="/assets/js/63.0421c167.js"><link rel="prefetch" href="/assets/js/64.c9cb8715.js"><link rel="prefetch" href="/assets/js/65.12bffbbe.js"><link rel="prefetch" href="/assets/js/66.88765122.js"><link rel="prefetch" href="/assets/js/67.da4635a3.js"><link rel="prefetch" href="/assets/js/68.3c63ba61.js"><link rel="prefetch" href="/assets/js/69.1219a0e7.js"><link rel="prefetch" href="/assets/js/7.e8babe25.js"><link rel="prefetch" href="/assets/js/70.3bf0c89d.js"><link rel="prefetch" href="/assets/js/71.4609fbf2.js"><link rel="prefetch" href="/assets/js/72.ace2d2ea.js"><link rel="prefetch" href="/assets/js/73.e15ac531.js"><link rel="prefetch" href="/assets/js/74.d47d3d15.js"><link rel="prefetch" href="/assets/js/75.784758d9.js"><link rel="prefetch" href="/assets/js/76.0e73a7e0.js"><link rel="prefetch" href="/assets/js/77.89347cf2.js"><link rel="prefetch" href="/assets/js/78.9c50e302.js"><link rel="prefetch" href="/assets/js/79.00d763e1.js"><link rel="prefetch" href="/assets/js/80.5b6be473.js"><link rel="prefetch" href="/assets/js/81.b2b214ce.js"><link rel="prefetch" href="/assets/js/82.249cca3e.js"><link rel="prefetch" href="/assets/js/83.b75ea537.js"><link rel="prefetch" href="/assets/js/84.17c4e646.js"><link rel="prefetch" href="/assets/js/85.5e44bc70.js"><link rel="prefetch" href="/assets/js/86.f94349cd.js"><link rel="prefetch" href="/assets/js/87.680e7388.js"><link rel="prefetch" href="/assets/js/88.1e7d772f.js"><link rel="prefetch" href="/assets/js/89.60f3d956.js"><link rel="prefetch" href="/assets/js/90.3f4140b9.js"><link rel="prefetch" href="/assets/js/91.021a013d.js"><link rel="prefetch" href="/assets/js/92.8f4eee93.js"><link rel="prefetch" href="/assets/js/93.aab62397.js"><link rel="prefetch" href="/assets/js/94.ec6ad21a.js"><link rel="prefetch" href="/assets/js/95.7821d592.js"><link rel="prefetch" href="/assets/js/96.248f77af.js"><link rel="prefetch" href="/assets/js/97.29ac9496.js"><link rel="prefetch" href="/assets/js/98.79e86021.js"><link rel="prefetch" href="/assets/js/99.53776a77.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.715d43b1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6d46e2f3.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/msingbai/blog_img@main/blog/basic/candle.png" alt="迷新白的博客" class="logo"> <span class="site-name can-hide">迷新白的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/speak/" class="nav-link">随笔</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/frontend/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress/" class="nav-link">Vuepress</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/backend/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/springboot/" class="nav-link">Springboot</a></li><li class="dropdown-item"><!----> <a href="/projects/b6c8ea/404" class="nav-link"></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tools/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dev/" class="nav-link">开发工具</a></li><li class="dropdown-item"><!----> <a href="/sys/" class="nav-link">系统工具</a></li></ul></div></div><div class="nav-item"><a href="/read/" class="nav-link">读吧</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><a href="/projects/" class="link-title router-link-active">项目</a> <span class="title" style="display:none;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/Spark217/article/details/145481497?spm=1001.2014.3001.5502" target="_blank" rel="noopener noreferrer" class="nav-link external">
  智能浇花系统
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://msingbai.top/projects/#%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener noreferrer" class="nav-link external">
  用户中心系统
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/" class="nav-link">关于</a></li><li class="dropdown-item"><!----> <a href="/more/friend/8e1a3d/" class="nav-link">友情链接</a></li></ul></div></div> <a href="https://github.com/msingbai" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://avatars.githubusercontent.com/u/18241922?v=4"> <div class="blogger-info"><h3>迷新白</h3> <span>愿你平安</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/speak/" class="nav-link">随笔</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/frontend/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress/" class="nav-link">Vuepress</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/backend/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/springboot/" class="nav-link">Springboot</a></li><li class="dropdown-item"><!----> <a href="/projects/b6c8ea/404" class="nav-link"></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tools/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dev/" class="nav-link">开发工具</a></li><li class="dropdown-item"><!----> <a href="/sys/" class="nav-link">系统工具</a></li></ul></div></div><div class="nav-item"><a href="/read/" class="nav-link">读吧</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><a href="/projects/" class="link-title router-link-active">项目</a> <span class="title" style="display:none;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/Spark217/article/details/145481497?spm=1001.2014.3001.5502" target="_blank" rel="noopener noreferrer" class="nav-link external">
  智能浇花系统
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://msingbai.top/projects/#%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener noreferrer" class="nav-link external">
  用户中心系统
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/" class="nav-link">关于</a></li><li class="dropdown-item"><!----> <a href="/more/friend/8e1a3d/" class="nav-link">友情链接</a></li></ul></div></div> <a href="https://github.com/msingbai" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>用户中心系统</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>仿Deepseek官网AI聊天网站</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/projects/272e22/" class="sidebar-link">需求分析</a></li><li><a href="/projects/42cbd8/" class="sidebar-link">首页&amp;聊天页开发</a></li><li><a href="/projects/38148f/" class="sidebar-link">接入deepseek</a></li><li><a href="/projects/55f22c/" class="sidebar-link">数据库搭建</a></li><li><a href="/projects/482be9/" class="sidebar-link">首页完善（前端）</a></li><li><a href="/projects/97c25a/" class="sidebar-link">登陆系统-clerk</a></li><li><a href="/projects/8bb9c5/" class="sidebar-link">首页完善（后端）</a></li><li><a href="/projects/b6c8ea/" aria-current="page" class="active sidebar-link">保留上下文对话</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/projects/b6c8ea/#保存用户信息-后端" class="sidebar-link">保存用户信息（后端）</a></li><li class="sidebar-sub-header level2"><a href="/projects/b6c8ea/#获取聊天接口" class="sidebar-link">获取聊天接口</a></li><li class="sidebar-sub-header level2"><a href="/projects/b6c8ea/#获取消息接口" class="sidebar-link">获取消息接口</a></li><li class="sidebar-sub-header level2"><a href="/projects/b6c8ea/#测试" class="sidebar-link">测试</a></li></ul></li><li><a href="/projects/0d846d/" class="sidebar-link">第一次对话完善</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>尤克里里音月-Flutter（需求分析阶段）</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/projects/#项目" data-v-06225672>项目</a></li><li data-v-06225672><a href="/projects/#仿Deepseek官网AI聊天网站" data-v-06225672>仿Deepseek官网AI聊天网站</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://msingbai.github.io/" target="_blank" title="作者" class="beLink" data-v-06225672>迷新白</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2025-04-27</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">保留上下文对话<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="_08-保留上下文对话"><a href="#_08-保留上下文对话" class="header-anchor">#</a> 08.保留上下文对话</h1> <p>这是摘要</p> <h2 id="保存用户信息-后端"><a href="#保存用户信息-后端" class="header-anchor">#</a> 保存用户信息（后端）</h2> <p>在<code>src/app/api/chat/route.ts</code>文件中 校验是否已经登录<img src="/assets/img/image-20250427203356043.f806033d.png" alt="image-20250427203356043"></p> <p>存入用户信息<img src="/assets/img/image-20250427210557075.efad9e26.png" alt="image-20250427210557075"></p> <p>我们扩充了参数，需要在前端也添加上新增的参数</p> <p><img src="/assets/img/image-20250427210739969.c0c259bc.png" alt="image-20250427210739969"></p> <p>useParams()是用于从 URL 中获取参数的钩子</p> <p>使用useQuery创建一个post请求</p> <h2 id="获取聊天接口"><a href="#获取聊天接口" class="header-anchor">#</a> 获取聊天接口</h2> <p>新建<code>src/app/api/get-chat/route.ts</code></p> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>unauthorized<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/navigation&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>getChat<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/db&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>auth<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@clerk/nextjs/server&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token constant">POST</span><span class="token punctuation">(</span>req<span class="token operator">:</span>Request<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>chat_id<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> req<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">//判断是否登录，登陆后方可读取</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> userId <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>error<span class="token operator">:</span>unauthorized<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
            status<span class="token operator">:</span> <span class="token number">401</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//返回chat</span>
    <span class="token keyword">const</span> chat <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getChat</span><span class="token punctuation">(</span>chat_id<span class="token punctuation">,</span>userId<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>chat<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">{</span>status<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>在聊天页<code>src/app/chat/[chat_id]/page.tsx</code>调用返回的参数</p> <p><img src="/assets/img/image-20250427205110143.7e4e3438.png" alt="image-20250427205110143"></p> <h2 id="获取消息接口"><a href="#获取消息接口" class="header-anchor">#</a> 获取消息接口</h2> <p>在<code>src/app/chat/[chat_id]/page.tsx</code>中定义返回消息的前端方法<img src="/assets/img/image-20250427213010120.d208b4f3.png" alt="image-20250427213010120"></p> <p>在后端API中创建<code>src/app/api/get-messages/route.ts</code></p> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>getMessagesByChatId<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/db&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>auth<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@clerk/nextjs/server&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token constant">POST</span><span class="token punctuation">(</span>req<span class="token operator">:</span>Request<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>chat_id<span class="token punctuation">,</span>chat_user_id<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> req<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> userId <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">//判断是否已登录</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>userId <span class="token operator">||</span> chat_user_id <span class="token operator">!==</span> userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>error<span class="token operator">:</span><span class="token string">'unauthorized'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
            status<span class="token operator">:</span> <span class="token number">401</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//返回message</span>
    <span class="token keyword">const</span> messages <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getMessagesByChatId</span><span class="token punctuation">(</span>chat_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>messages<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">{</span>status<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>补充page页Message的入参<img src="/assets/img/image-20250427215333614.e8d93b32.png" alt="image-20250427215333614"></p> <p>测试</p> <p><img src="data:image/png;base64,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" alt="image-20250427215105294"></p> <p>POST的地址不对</p> <p>原因在于前端<code>src/app/chat/[chat_id]/page.tsx</code>的请求路径写的是相对路径</p> <p>在 <code>/chat/[chat_id]</code> 页面下发起这个请求时</p> <p>Next.js会基于当前路由路径解析这个相对路径，导致实际请求变成了 <code>/chat/api/get-chat</code></p> <p>在请求最开始添加/表示绝对路径（上上张图已更改）<img src="/assets/img/image-20250427220819957.fddd9f5d.png" alt="image-20250427220819957"></p> <p>再测试</p> <p><img src="data:image/png;base64,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" alt="image-20250427220908158"></p> <p>表示身份验证未通过</p> <p>创建条件语句，测试一下是哪个问题</p> <p><img src="/assets/img/image-20250427221302212.64db0179.png" alt="image-20250427221302212">是第二个问题<img src="data:image/png;base64,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" alt="image-20250427221324614"></p> <p>比较两者的输出<img src="/assets/img/image-20250427221505747.507f0f4b.png" alt="image-20250427221505747"></p> <p>是前一个变量没有被定义</p> <p>找到问题了</p> <p><img src="/assets/img/image-20250427222103868.c265e592.png" alt="image-20250427222103868"></p> <p>后端API实现里返回的数据多用了一个大括号</p> <p>在 JavaScript 和 TypeScript 中，<code>JSON.stringify</code> 方法用于将一个对象或值转换为 JSON 字符串。在 <code>JSON.stringify</code> 中传递一个对象时，它会将该对象的所有可枚举属性序列化为 JSON 格式。</p> <p><code>chat</code> 是一个对象  例子</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">//没有加{}</span>
<span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  userId<span class="token operator">:</span> 'user_2wHxPcxxxxxxxxxxxxxx'<span class="token punctuation">,</span>
  title<span class="token operator">:</span> '测试保存记录'<span class="token punctuation">,</span>
  model<span class="token operator">:</span> 'deepseek-v3'
<span class="token punctuation">}</span>
<span class="token comment">//加了{}</span>
<span class="token punctuation">{</span><span class="token property">&quot;chat&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;userId&quot;</span><span class="token operator">:</span><span class="token string">&quot;user123&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;messages&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;World&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>会把结果包裹在一个额外的chat对象中，删去即可</p> <p><img src="/assets/img/image-20250427222700022.e7f3a830.png" alt="image-20250427222700022"></p> <p><img src="/assets/img/image-20250427222645718.2ed1daae.png" alt="image-20250427222645718"></p> <h2 id="测试"><a href="#测试" class="header-anchor">#</a> 测试</h2> <p>退出页面后，对话记录仍有保留</p> <p><img src="/assets/img/image-20250427222902608.a28c33bf.png" alt="image-20250427222902608"></p> <p>在SupaBase中创建了对话记录<img src="/assets/img/image-20250427222958862.77507d90.png" alt="image-20250427222958862"></p> <p><em>文字写于：广东</em></p></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2025/4/27 23:24:07</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/projects/8bb9c5/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">首页完善（后端）</div></a> <a href="/projects/0d846d/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">第一次对话完善</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/projects/8bb9c5/" class="prev">首页完善（后端）</a></span> <span class="next"><a href="/projects/0d846d/">第一次对话完善</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/projects/0d846d/"><div>
            第一次对话完善
            <!----></div></a> <span class="date">04-27</span></dt></dl><dl><dd>02</dd> <dt><a href="/projects/8bb9c5/"><div>
            首页完善（后端）
            <!----></div></a> <span class="date">04-27</span></dt></dl><dl><dd>03</dd> <dt><a href="/projects/97c25a/"><div>
            登陆系统-clerk
            <!----></div></a> <span class="date">04-27</span></dt></dl> <dl><dd></dd> <dt><a href="/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:SparkLast@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/msingbai" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://www.zhihu.com/people/mi-xin-bai" title="知乎" target="_blank" class="iconfont icon-zhihu"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2025
    <span>迷新白 | 的博客<br> <a href="/sitemap.xml">sitemap</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a><br/><a href="https://www.foreverblog.cn/go.html" target="_blank"> <img src="https://img.foreverblog.cn/wormhole_3_tp.gif" alt="" style="width:auto;height:32px;" title="穿梭虫洞-随机访问十年之约友链博客"></a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><!----><div></div></div></div>
    <script src="/assets/js/app.0678369d.js" defer></script><script src="/assets/js/4.2a819298.js" defer></script><script src="/assets/js/1.459f44db.js" defer></script><script src="/assets/js/3.424b9c9b.js" defer></script><script src="/assets/js/20.86ebaf93.js" defer></script>
  </body>
</html>
