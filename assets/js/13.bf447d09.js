(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{443:function(s,t,a){s.exports=a.p+"assets/img/image-20250403113709636.971243f4.png"},444:function(s,t,a){s.exports=a.p+"assets/img/image-20250403204424008.1dab7014.png"},445:function(s,t,a){s.exports=a.p+"assets/img/image-20250403205400407.caade149.png"},446:function(s,t,a){s.exports=a.p+"assets/img/image-20250404233225606.8cb265c0.png"},447:function(s,t,a){s.exports=a.p+"assets/img/image-20250404233247541.542401eb.png"},448:function(s,t,a){s.exports=a.p+"assets/img/image-20250404233515895.528485cf.png"},449:function(s,t,a){s.exports=a.p+"assets/img/image-20250404233937014.bca53c7c.png"},450:function(s,t,a){s.exports=a.p+"assets/img/image-20250404234241317.f292eb2b.png"},451:function(s,t,a){s.exports=a.p+"assets/img/image-20250404234509956.0cd24769.png"},452:function(s,t,a){s.exports=a.p+"assets/img/image-20250405000708002.2067cf2b.png"},453:function(s,t,a){s.exports=a.p+"assets/img/image-20250405001014744.128346d5.png"},454:function(s,t,a){s.exports=a.p+"assets/img/image-20250405002203518.b02f820b.png"},455:function(s,t,a){s.exports=a.p+"assets/img/image-20250405004253672.e0ef777c.png"},456:function(s,t,a){s.exports=a.p+"assets/img/image-20250405004531356.700d663c.png"},457:function(s,t,a){s.exports=a.p+"assets/img/image-20250405004615832.8cd9d675.png"},458:function(s,t,a){s.exports=a.p+"assets/img/image-20250405005650833.0b9fbe34.png"},459:function(s,t,a){s.exports=a.p+"assets/img/image-20250405005753562.2bffcb06.png"},460:function(s,t,a){s.exports=a.p+"assets/img/image-20250405005936806.c7c3db4d.png"},461:function(s,t,a){s.exports=a.p+"assets/img/image-20250405012642591.729e57f2.png"},462:function(s,t,a){s.exports=a.p+"assets/img/image-20250405012735908.7a894a73.png"},463:function(s,t){s.exports="data:image/png;base64,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"},464:function(s,t,a){s.exports=a.p+"assets/img/image-20250405013842674.e1728245.png"},833:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_06-登录模块-后端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_06-登录模块-后端"}},[s._v("#")]),s._v(" 06.登录模块（后端）")]),s._v(" "),t("p",[s._v("后端部分的"),t("strong",[s._v("登录")]),s._v("功能")]),s._v(" "),t("h2",{attrs:{id:"功能-用户登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#功能-用户登录"}},[s._v("#")]),s._v(" 功能：用户登录")]),s._v(" "),t("h3",{attrs:{id:"详细设计"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#详细设计"}},[s._v("#")]),s._v(" 详细设计")]),s._v(" "),t("p",[t("strong",[s._v("登录接口")])]),s._v(" "),t("ol",[t("li",[s._v("接收参数：用户账户、密码")]),s._v(" "),t("li",[s._v("请求类型：POST")]),s._v(" "),t("li",[s._v("请求体：JSON格式的数据")]),s._v(" "),t("li",[s._v("返回值：用户信息")])]),s._v(" "),t("p",[t("strong",[s._v("逻辑")])]),s._v(" "),t("ol",[t("li",[s._v("检验用户账户和密码是否合法\n"),t("ul",[t("li",[s._v("账户和密码不能是空")]),s._v(" "),t("li",[s._v("账户不小于4位")]),s._v(" "),t("li",[s._v("密码不小于8位")]),s._v(" "),t("li",[s._v("账户不包含特殊字符")])])]),s._v(" "),t("li",[s._v("检验密码是否输入正确，与数据库中的密文密码对比")]),s._v(" "),t("li",[s._v("用户脱敏，隐藏敏感信息，防止数据库中的字段泄露")]),s._v(" "),t("li",[s._v("记录用户的登录态（session），将其存到服务器上（用后端SpringBoot框架封装的服务器tomcat去记录）\n"),t("ul",[t("li",[s._v("cookie")])])]),s._v(" "),t("li",[s._v("返回安全脱敏的用户信息")])]),s._v(" "),t("p",[t("strong",[s._v("编写代码")])]),s._v(" "),t("ol",[t("li",[s._v("在"),t("code",[s._v("UserService")]),s._v("编写登录代码，写如下代码，Alt+Enter实现方法"),t("img",{attrs:{src:a(443),alt:"image-20250403113709636"}})])]),s._v(" "),t("p",[s._v("接下来我们要实现加密")]),s._v(" "),t("h3",{attrs:{id:"md5加密-盐值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#md5加密-盐值"}},[s._v("#")]),s._v(" md5加密&盐值")]),s._v(" "),t("p",[s._v("（一）MD5摘要算法：")]),s._v(" "),t("ul",[t("li",[s._v("MD5信息摘要算法广泛使用的密码散列函数")]),s._v(" "),t("li",[s._v("MD5可以产生一个128位的散列值用于唯一标识源数据")]),s._v(" "),t("li",[s._v("项目中通常使用MD5作为敏感数据的加密算法")])]),s._v(" "),t("p",[s._v("（二）特点：")]),s._v(" "),t("ul",[t("li",[s._v("压缩性，MD5生成的摘要长度固定")]),s._v(" "),t("li",[s._v("抗修改性，源数据哪怕有一个字节变化，MD5也会有巨大差异")]),s._v(" "),t("li",[s._v("不可逆，无法通过MD5反向推算源数据")]),s._v(" "),t("li",[s._v("计算速度快")])]),s._v(" "),t("p",[s._v("MD5的加密也会在某些情景下变得易破解")]),s._v(" "),t("p",[s._v("**彩虹表：**由于MD5的计算速度很快，攻击者可以预先计算出大量常见密码的MD5值，形成彩虹表，用于快速破解密码。")]),s._v(" "),t("p",[s._v("**碰撞攻击：**存在不同的输入数据生成相同哈希值的可能性")]),s._v(" "),t("p",[s._v("MD5对应的加密之后的信息能够通过"),t("strong",[s._v("彩虹表")]),s._v("得到解密，这让数据并不够安全，那怎么办呢？")]),s._v(" "),t("p",[s._v("（三）MD5+盐值")]),s._v(" "),t("p",[s._v("混淆加密，例如我们最初想要加密的字符串是test")]),s._v(" "),t("p",[s._v("我们在加密的时候可以给test加点“盐”")]),s._v(" "),t("p",[s._v("例如我们通过这个简单的算法：")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("md5Digest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" source"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),s._v(" salt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//source:需要加密的原始字符串。 salt：一个整数值，用于逐字符加盐。")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" ca"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("source"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("toCharArray")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//将source转化为字符数组")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ca"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            ca"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ca"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("salt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//给每个字符加上盐值")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" target"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ca"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//重新组合字符串变成target")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" md5"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DigestUtils")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("md5Hex")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("target"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//进行MD5加密")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" md5"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("这样就完成了md5+盐值混淆之后的数据")]),s._v(" "),t("h3",{attrs:{id:"加密功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加密功能"}},[s._v("#")]),s._v(" "),t("strong",[s._v("加密功能")])]),s._v(" "),t("p",[s._v("final是java的一种关键词，用于修饰内容表示其不可变。")]),s._v(" "),t("p",[s._v("将表示盐值的变量"),t("code",[s._v('private static final String SALT = "yupi";')])]),s._v(" "),t("p",[s._v("写在类的里面，方法的前面")]),s._v(" "),t("img",{staticStyle:{zoom:"33%"},attrs:{src:a(444),alt:"image-20250403204424008"}}),s._v(" "),t("p",[t("strong",[s._v("注解 @Slf4j")])]),s._v(" "),t("p",[s._v("在类前加一个@Slf4j注解"),t("img",{attrs:{src:a(445),alt:"image-20250403205400407"}})]),s._v(" "),t("p",[s._v("@Slf4j 是 Lombok 提供的一种注解，用于在类中自动生成一个名为 log 的日志对象。通过使用 @Slf4j 注解，可以方便地在代码中使用日志功能，而无需手动创建和初始化日志对象。")]),s._v(" "),t("p",[s._v("注解示例：")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Slf4j")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LogExample")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("在上述示例中，LogExample类被标记为使用 "),t("code",[s._v("@Slf4j")]),s._v(" 注解，它将自动创建一个名为 "),t("code",[s._v("log")]),s._v(" 的日志对象。")]),s._v(" "),t("p",[s._v("可见lombok的官方文档："),t("a",{attrs:{href:"https://projectlombok.org/api/lombok/extern/slf4j/Slf4j",target:"_blank",rel:"nofollow noopener noreferrer"}},[s._v("Slf4j (Lombok)"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"逻辑编写"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#逻辑编写"}},[s._v("#")]),s._v(" 逻辑编写")]),s._v(" "),t("p",[s._v("可以从注册功能把代码搬过来修改，主要是去掉了checkPassword")]),s._v(" "),t("p",[s._v("和注册不同的是，这里返回的是null，有不完美的地方，不能反馈具体的错误码")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("doLogin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" userAccount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" userPassword"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 1.检验 */")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StringUtils")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("isAnyBlank")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userAccount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" userPassword"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//空白")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userAccount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("length")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userPassword"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("length")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//账户不能包含特殊字符")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" vaildateRegExp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[^a-zA-Z0-9]"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Matcher")]),s._v(" matcher "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Pattern")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("compile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vaildateRegExp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("matcher")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userAccount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("matcher"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 2.加密 */")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" encryptPassword "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DigestUtils")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("md5DigestAsHex")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SALT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" userPassword"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBytes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//账户不能重复")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("QueryWrapper")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" queryWrapper "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("QueryWrapper")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        queryWrapper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("eq")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"userAccount"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" userAccount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        queryWrapper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("eq")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"userPassword"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" encryptPassword"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" user "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" userMapper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("selectOne")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("queryWrapper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[UserCenter]User login failed,userAccount cannot match userPassword"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br")])]),t("p",[s._v("上面查询用户是否存在的功能存在问题，因为我们设置了isDelete属性，"),t("code",[s._v("0")]),s._v("表示存在状态，"),t("code",[s._v("1")]),s._v("表示删除状态，这是一种叫做逻辑删除的数据管理方法")]),s._v(" "),t("blockquote",[t("p",[s._v("通过在数据库中标记记录为“已删除”而非物理删除，来保留数据的历史痕迹，同时确保查询结果的整洁性。")])]),s._v(" "),t("p",[s._v("在MyBatis-Plus中提供了此支持")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://baomidou.com/guides/logic-delete/#%E6%AD%A5%E9%AA%A4-1-%E9%85%8D%E7%BD%AE%E5%85%A8%E5%B1%80%E9%80%BB%E8%BE%91%E5%88%A0%E9%99%A4%E5%B1%9E%E6%80%A7",target:"_blank",rel:"nofollow noopener noreferrer"}},[s._v("逻辑删除支持 | MyBatis-Plus"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("MyBatis-Plus 的逻辑删除功能会在执行数据库操作时自动处理逻辑删除字段。以下是它的工作方式：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("插入")]),s._v("：逻辑删除字段的值不受限制。")]),s._v(" "),t("li",[t("strong",[s._v("查找")]),s._v("：自动添加条件，过滤掉标记为已删除的记录。")]),s._v(" "),t("li",[t("strong",[s._v("更新")]),s._v("：防止更新已删除的记录。")]),s._v(" "),t("li",[t("strong",[s._v("删除")]),s._v("：将删除操作转换为更新操作，标记记录为已删除。")])]),s._v(" "),t("p",[s._v("例如：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("删除")]),s._v("："),t("code",[s._v("update user set deleted=1 where id = 1 and deleted=0")])]),s._v(" "),t("li",[t("strong",[s._v("查找")]),s._v("："),t("code",[s._v("select id,name,deleted from user where deleted=0")])])]),s._v(" "),t("p",[t("strong",[s._v("配置")]),s._v("：")]),s._v(" "),t("p",[s._v("1.在 "),t("code",[s._v("application.yml")]),s._v(" 中配置 MyBatis-Plus 的全局逻辑删除属性：")]),s._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("mybatis-plus")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("global-config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("db-config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("logic-delete-field")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" deleted "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全局逻辑删除字段名")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("logic-delete-value")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 逻辑已删除值")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("logic-not-delete-value")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 逻辑未删除值")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("2.在User实体类中使用 "),t("code",[s._v("@TableLogic")]),s._v(" 注解")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("baomidou"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mybatisplus"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TableLogic")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 其他字段...")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@TableLogic")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),s._v(" isDelete"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"后端登录态管理-cookie和session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后端登录态管理-cookie和session"}},[s._v("#")]),s._v(" 后端登录态管理（Cookie和Session）")]),s._v(" "),t("p",[s._v("在前端会有一个服务端发给客户端的凭证，叫做Cookie："),t("RouterLink",{attrs:{to:"/06.后端/01.后端基础/04.cookie是什么.html"}},[s._v("Cookie是什么 ")])],1),s._v(" "),t("p",[s._v("方便服务端在接收客户端请求的时候认出客户端")]),s._v(" "),t("p",[t("strong",[s._v("Session")]),s._v(" 是存储在服务器端的用户会话数据。可以存储用户在网站上的临时状态，例如登录信息、购物车数据等。")]),s._v(" "),t("p",[s._v("当用户访问一个网站时，服务器会为该用户创建一个唯一的会话标识符（Session ID），并通过 "),t("strong",[s._v("Cookie")]),s._v(" 或其他方式（如URL参数）将该标识符发送给客户端。客户端在后续请求中会携带这个标识符，服务器通过它来识别用户并恢复对应的会话数据。")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("Cookie 存储了 Session ID")]),s._v("：")])]),s._v(" "),t("p",[s._v("在大多数情况下，Session 的核心机制依赖于 Cookie。")]),s._v(" "),t("p",[s._v("服务器会将 Session ID 存储在 Cookie 中，并通过 Cookie 将它发送给客户端。")]),s._v(" "),t("p",[s._v("客户端在后续请求中会携带这个 Cookie，服务器通过解析 Cookie 中的 Session ID 来找到对应的会话数据。")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("Session 数据存储在服务器端")]),s._v("：")])]),s._v(" "),t("p",[s._v("Cookie 本身并不存储用户的具体会话数据，而是存储一个标识符（Session ID）。真正的会话数据（如用户登录状态、购物车信息等）存储在服务器端，通常以文件或数据库的形式保存。")]),s._v(" "),t("p",[s._v("Cookie 和 Session 是一种协作关系。Cookie 负责在客户端存储和传递标识符，而 Session 负责在服务器端管理用户的具体数据。两者结合使用，可以实现用户状态的持久化和管理。")]),s._v(" "),t("h3",{attrs:{id:"代码编写"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码编写"}},[s._v("#")]),s._v(" 代码编写")]),s._v(" "),t("p",[s._v("1.在"),t("code",[s._v("UserService")]),s._v("与"),t("code",[s._v("UserServiceImpl")]),s._v("的dologin方法中添加"),t("code",[s._v("HttpServletRequest request")])]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("HttpServletRequest是Java Servlet API中的一个接口，它封装了客户端发送的HTTP请求。当客户端通过HTTP协议访问服务器时，请求中的所有信息，包括请求头、参数等，都被封装在HttpServletRequest对象中。")])])]),s._v(" "),t("p",[t("img",{attrs:{src:a(446),alt:"image-20250404233225606"}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(447),alt:"image-20250404233247541"}})]),s._v(" "),t("p",[s._v("2.在Impl中编写代码")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("记录用户的登录态（tip：打出/**+Enter会有带参数的注释）"),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(448),alt:"image-20250404233515895"}})]),s._v(" "),t("p",[t("em",[s._v("定义用户登录态")])]),s._v(" "),t("hr"),s._v(" "),t("p",[t("img",{attrs:{src:a(449),alt:"image-20250404233937014"}})]),s._v(" "),t("p",[t("em",[s._v("编写记录用户的登录态代码")])]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[s._v("用户脱敏")])]),s._v(" "),t("p",[s._v("脱敏的目的是避免将用户的所有信息直接暴露给调用方。例如，用户的密码、身份证号等敏感信息通常不会包含在返回的脱敏对象中。")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("User safetyUser = new User();")]),s._v(" 通过创建一个新的用户对象，只填充部分字段（如 "),t("code",[s._v("id")]),s._v("、"),t("code",[s._v("username")]),s._v("、"),t("code",[s._v("userAccount")]),s._v(" 等），而不包含敏感信息（如密码）。")]),s._v(" "),t("li",[s._v("这种方式确保了返回的用户对象是“干净的”，只包含前端需要的信息。")])]),s._v(" "),t("p",[t("strong",[s._v("实现：")])]),s._v(" "),t("p",[t("img",{attrs:{src:a(450),alt:"image-20250404234241317"}})]),s._v(" "),t("p",[s._v("修改生成好的代码")]),s._v(" "),t("p",[t("img",{attrs:{src:a(451),alt:"image-20250404234509956"}})]),s._v(" "),t("p",[s._v("记得将这一步的"),t("code",[s._v("user")]),s._v("改为"),t("code",[s._v("safetyUser")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 4.记录用户的登录态  */")]),s._v("\n    request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getSession")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setAttribute")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("USER_LOGIN_STATE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 3.用户脱敏 */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" safetyUser "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    safetyUser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    safetyUser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setUsername")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUsername")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    safetyUser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setUserAccount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUserAccount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    safetyUser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setAvatarUrl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAvatarUrl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    safetyUser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setGender")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getGender")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    safetyUser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setPhone")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getPhone")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    safetyUser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setEmail")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getEmail")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    safetyUser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setUserStatus")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUserStatus")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    safetyUser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setCreateTime")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCreateTime")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 4.记录用户的登录态  */")]),s._v("\n    request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getSession")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setAttribute")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("USER_LOGIN_STATE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" safetyUser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" safetyUser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])])])]),s._v(" "),t("h2",{attrs:{id:"后端接口开发及测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后端接口开发及测试"}},[s._v("#")]),s._v(" 后端接口开发及测试")]),s._v(" "),t("p",[t("strong",[s._v("控制层Controller封装请求")])]),s._v(" "),t("p",[s._v("在"),t("code",[s._v("application.yml")]),s._v("指定一个全局接口api")]),s._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("servlet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("context-path")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /api\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("原本访问 "),t("code",[s._v("http://localhost:8080/users")]),s._v(" 的请求，现在会改变为 "),t("code",[s._v("http://localhost:8080/api/users")])]),s._v(" "),t("p",[t("strong",[s._v("Controller")]),s._v(" 负责处理客户端的请求，并将处理结果返回给客户端。")]),s._v(" "),t("ul",[t("li",[s._v("它会接收来自客户端的 HTTP 请求（如 GET、POST、PUT、DELETE 等）。")]),s._v(" "),t("li",[s._v("通过注解（如 @RequestMapping、@GetMapping、@PostMapping 等）来定义哪些请求路径和方法会被哪个 Controller 方法处理。")]),s._v(" "),t("li",[s._v("它可以接收请求参数（如表单数据、JSON 数据等），并将其传递给业务逻辑层。")]),s._v(" "),t("li",[s._v("Controller 方法会根据业务逻辑的处理结果，返回一个响应给客户端。响应可以是 HTML 页面、JSON 数据、XML 数据等。")])]),s._v(" "),t("h3",{attrs:{id:"_1-新建controller类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-新建controller类"}},[s._v("#")]),s._v(" 1. 新建Controller类")]),s._v(" "),t("p",[s._v("Controller包下新建UserController.java")]),s._v(" "),t("ul",[t("li",[s._v("添加 "),t("code",[s._v("@RestController")]),s._v(" 注解（这个类中所有的请求的接口返回值，相应的数据类型都是 "),t("code",[s._v("application/json")]),s._v("）")]),s._v(" "),t("li",[s._v("添加 "),t("code",[s._v("@RequestMapping")]),s._v(" 注解（定义请求的路径）")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RestController")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/user"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"_2-下载插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-下载插件"}},[s._v("#")]),s._v(" 2. 下载插件")]),s._v(" "),t("ul",[t("li",[s._v("下载插件 "),t("code",[s._v("Auto filling Java call arguments")]),s._v(" 【自动填充 java 参数】（安装完成记得重启）")])]),s._v(" "),t("h3",{attrs:{id:"_3-编写注册请求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-编写注册请求"}},[s._v("#")]),s._v(" 3. 编写注册请求")]),s._v(" "),t("p",[s._v("UserController 类中编写 register 请求")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("编写注册请求"),t("img",{attrs:{src:a(452),alt:"image-20250405000708002"}}),s._v("自动填充了"),t("code",[s._v("userAccount, userPassword, checkPassword")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("封装专门用来接收请求参数的对象"),t("img",{attrs:{src:a(453),alt:"image-20250405001014744"}}),s._v("继承"),t("code",[s._v("Serializable(序列化)")])]),s._v(" "),t("p",[s._v("序列化是将 Java 对象转换为字节流的过程，以便在网络上传输或在磁盘上存储")]),s._v(" "),t("p",[s._v("继承后表明该类的对象可以被序列化，我们的**"),t("code",[s._v("UserRegisterRequest")]),s._v("**是用于封装用户注册请求的参数的")])])]),s._v(" "),t("p",[s._v("添加参数，打上"),t("code",[s._v("@Date")]),s._v("注解（是lombok提供的一个注解，能够简化Java类的编写，自动生成常见的get、set方法")])]),s._v(" "),t("li",[t("p",[s._v("回到UserController"),t("img",{attrs:{src:a(454),alt:"image-20250405002203518"}}),s._v(" 引用UserRegisterRequest;打上@RequestBody注解（使得UserRegisterRequest与前端传来的参数能够对应）；写一个判断是否为空的语句")])]),s._v(" "),t("li",[t("p",[s._v("完善代码逻辑")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@PostMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/register"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("userRegister")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestBody")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserRegisterRequest")]),s._v(" userRegisterRequest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userRegisterRequest "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" userAccount "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" userRegisterRequest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUserAccount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" userPassword "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" userRegisterRequest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUserPassword")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" checkPassword "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" userRegisterRequest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCheckPassword")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StringUtils")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("isAnyBlank")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userAccount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" userPassword"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" checkPassword"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" userService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("userRegister")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userAccount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" userPassword"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" checkPassword"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])])])]),s._v(" "),t("h3",{attrs:{id:"_4-编写登录请求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-编写登录请求"}},[s._v("#")]),s._v(" 4. 编写登录请求")]),s._v(" "),t("ul",[t("li",[s._v("复制注册模块的请求，进行修改(将UserService中的doLogin方法重构为"),t("strong",[s._v("userLogin")]),s._v("方法)")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@PostMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/login"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("userLogin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestBody")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserLoginRequest")]),s._v(" userLoginRequest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletRequest")]),s._v(" request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userLoginRequest "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" userAccount "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" userLoginRequest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUserAccount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" userPassword "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" userLoginRequest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUserPassword")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StringUtils")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("isAnyBlank")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userAccount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" userPassword"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" userService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("userLogin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userAccount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" userPassword"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("ul",[t("li",[s._v("在model.request包中新建UserRegisterLogin类，只需要复制UserRegisterRequest类，删除其中的checkPassword重构即可")])]),s._v(" "),t("h3",{attrs:{id:"_5-测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-测试"}},[s._v("#")]),s._v(" 5.测试")]),s._v(" "),t("p",[s._v("创建一个HTTP Client，验证和测试服务器端的API或Web服务是否按预期工作。")]),s._v(" "),t("p",[s._v("它会模拟客户端请求，通过发送（GET、POST、PUT、DELETE等），验证API、服务器的响应是否符合预期。")]),s._v(" "),t("p",[t("img",{attrs:{src:a(455),alt:"image-20250405004253672"}})]),s._v(" "),t("p",[s._v("生成一个POST请求，添加参数进行测试")]),s._v(" "),t("p",[t("img",{attrs:{src:a(456),alt:"image-20250405004531356"}}),s._v("以Debug的方式启动项目"),t("img",{staticStyle:{zoom:"67%"},attrs:{src:a(457),alt:"image-20250405004615832"}})]),s._v(" "),t("p",[t("strong",[s._v("打断点测试")]),s._v("（断点测试使程序在执行到该位置时暂停。）")]),s._v(" "),t("p",[s._v("点击左侧空白处打断点")]),s._v(" "),t("p",[t("img",{attrs:{src:a(458),alt:"image-20250405005650833"}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(459),alt:"image-20250405005753562"}})]),s._v(" "),t("p",[s._v("回到HTTP Client发送请求")]),s._v(" "),t("img",{staticStyle:{zoom:"33%"},attrs:{src:a(460),alt:"image-20250405005936806"}}),s._v(" "),t("p",[s._v("报错了( ´•̥̥̥ω•̥̥̥` )")]),s._v(" "),t("p",[s._v("原因是不知道什么时候在Class.java里面打了一个断点，导致出现了内部异常断点，导致程序执行异常。取消即可")]),s._v(" "),t("p",[t("strong",[s._v("测试完成")]),s._v("ヾ("),t("em",[s._v("´∀ ˋ")]),s._v(")ﾉ")]),s._v(" "),t("img",{staticStyle:{zoom:"33%"},attrs:{src:a(461),alt:"image-20250405012642591"}}),s._v(" "),t("img",{staticStyle:{zoom:"33%"},attrs:{src:a(462),alt:"image-20250405012735908"}}),s._v(" "),t("p",[s._v("再测一下逻辑删除")]),s._v(" "),t("ul",[t("li",[s._v("再数据库中把yupi的isDelete字段改为1"),t("img",{staticStyle:{zoom:"25%"},attrs:{src:a(463),alt:"image-20250405012853932"}})]),s._v(" "),t("li",[s._v("启动POST请求，测试完成"),t("img",{staticStyle:{zoom:"25%"},attrs:{src:a(464),alt:"image-20250405013842674"}})])]),s._v(" "),t("p",[t("em",[s._v("文字写于：广东")])])])}),[],!1,null,null,null);t.default=e.exports}}]);