---
title: å‰ç«¯åŸºç¡€é¢˜ç»ƒä¹ -1
date: 2025-04-16 22:11:22
permalink: /pages/5af018/
categories:
  - å‰ç«¯
  - å‰ç«¯åŸºç¡€
tags:
  - å‰ç«¯åŸºç¡€
---


# 06.å‰ç«¯åŸºç¡€é¢˜ç»ƒä¹ -1

ğŸ“–ä¸€æ¬¡**é¢˜ç›®ç»ƒä¹ **ï¼Œå‰ç«¯çš„åŸºç¡€é¢˜

<!-- more -->

## ğŸ“–ä¸€ã€å‰ç«¯åŸºç¡€é¢˜

1. **Flexbox**ï¼šå¦‚ä½•ä½¿ç”¨Flexboxå®ç°ä¸€ä¸ªä¸‰æ å¸ƒå±€ï¼Œå·¦å³å›ºå®šå®½åº¦100pxï¼Œä¸­é—´è‡ªé€‚åº”ï¼Ÿ

   Flexible Boxæ˜¯â€œæœ‰å¼¹æ€§çš„ç›’å­â€ï¼ŒCSSå¸ƒå±€å·¥å…·æœ‰floatså’Œpositioningï¼Œåæ¥å‡ºç°äº†flexï¼Œä»»ä½•ä¸€ä¸ªå®¹å™¨éƒ½å¯ä»¥æŒ‡å®šä¸ºFlexå¸ƒå±€

   å½“ä¸ºå®¹å™¨è®¾ç½®`display:flex`ï¼Œä¾¿åˆ›å»ºäº†flexå®¹å™¨ï¼Œå®¹å™¨å†…çš„ç›´ç³»å­å…ƒç´ ï¼Œå°†å˜æˆ`flexå…ƒç´ ã€‚`

   ```css
   .box{
     display: flex;
   }
   ```

   è¡Œå†…å…ƒç´ ä¹Ÿå¯ä»¥ä½¿ç”¨ Flex å¸ƒå±€ã€‚

   ```css
   .box{
     display: inline-flex;
   }
   ```

   è®¾ç½®ä¸ºFlex å¸ƒå±€ä»¥åï¼Œå­å…ƒç´ çš„`float`ã€`clear`å’Œ`vertical-align`å±æ€§å°†å¤±æ•ˆ

    å›é¡¾ä¸€ä¸‹htmlçš„åŸºç¡€ç»“æ„

   ```html
   <!DOCTYPE html>
    
   <html lang="zh-CN">
    
   <head>
    
       <meta charset="utf-8">
    
       <title>ä¸‰æ å¸ƒå±€with Flexbox</title>
       <style>
           body{
               margin: 0; /* å¤–è¾¹è·ä¸º0 */
           }
           .container {
               display:flex;/* è®¾å®šå®¹å™¨ä¸ºflexbox */
           }
           .left-column{
               width:100px;/* å·¦å®½åº¦ */
               background-color: #f0f0f0;/* å¢åŠ é¢œè‰²æé«˜è§†è§‰æ•ˆæœ */
           }
           .right-column{
               width:100px;/* å³å®½åº¦ */
               background-color: #f0f0f0;
           }
           .center-column{
               flex-grow: 1; /* è‡ªåŠ¨å¡«æ»¡ï¼Œè‡ªé€‚åº” */
               background-color: #e0e0e0;
           }
       </style>
   </head>
   <body>
       <h1>ç¤ºä¾‹æ–‡æ¡£</h1>
       <div class="container">
           <div class="left-column">Left Column</div>
           <div class="center-column">Center Column</div>
           <div class="right-column">Right Column</div>
       </div>
   </body>
   </html>
   ```

   <iframe src="/blog_file/å‰ç«¯åŸºç¡€é¢˜/Flexbox-partice.html" width="100%" height="500px"></iframe>

2. **é˜²æŠ–å’ŒèŠ‚æµ**ï¼šè¯·è§£é‡Šé˜²æŠ–å’ŒèŠ‚æµçš„åŒºåˆ«ï¼Œå¹¶ç”¨JavaScriptå®ç°ä¸€ä¸ªé˜²æŠ–å‡½æ•°ã€‚

   é˜²æŠ–æ˜¯æŒ‡åœ¨äº‹ä»¶è¢«è§¦å‘åï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œå¦‚æœè¿™æ®µæ—¶é—´é‡Œæ²¡æœ‰å†æ¬¡è§¦å‘æ­¤äº‹ä»¶ï¼Œåˆ™æ‰§è¡Œä¸€æ¬¡è¯¥äº‹ä»¶å¤„ç†ï¼Œè‹¥æœ‰å†æ¬¡è§¦å‘çš„æƒ…å†µï¼Œåˆ™æŒ‰æœ€åä¸€æ¬¡çš„è§¦å‘æ—¶é—´å¼€å§‹è®¡æ—¶

   èŠ‚æµæ˜¯è®©å‡½æ•°æŒ‰ç…§å›ºå®šçš„æ—¶é—´é—´éš”æ‰§è¡Œå‡½æ•°ï¼Œä¸è®ºäº‹ä»¶è§¦å‘é¢‘ç‡å¦‚ä½•ï¼Œéƒ½ä¸å½±å“å‡½æ•°çš„æŒ‰æ—¶æ‰§è¡Œã€‚

   èŠ‚æµå’Œé˜²æŠ–çš„åŒºåˆ«åœ¨äºï¼Œé˜²æŠ–æ˜¯åœ¨æœ€åä¸€æ¬¡è§¦å‘äº‹ä»¶åç­‰å¾…ä¸€æ®µæ—¶é—´æ‰§è¡Œå‡½æ•°ï¼ŒèŠ‚æµæ˜¯åœ¨ä¸€å®šæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡

   ```javascript
   function debounce(func, wait) {
     let timeout;
     
     return function() {
       clearTimeout(timeout);//æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
       timeout = setTimeout(() =>{
         func.apply(this, arguments);//åœ¨å»¶è¿Ÿåæ‰§è¡Œç›®æ ‡å‡½æ•°
       },wait);
     };
   }
   ```

3. **æ•°ç»„éå†**ï¼šç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¦‚ä½•æ‰¾å‡ºå‡ºç°é¢‘ç‡æœ€é«˜çš„å•è¯ï¼Ÿ

   ```javascript
   const findMostWord = sentence => {
       if(!sentence) return; //è‹¥ä¸ºç©º è¿”å›
       const article = sentence.trim().toLowerCase(); //å»æ‰ç©ºæ ¼+è½¬åŒ–ä¸ºå°å†™
       const list = article.match(/[a-zA-Z]+/g);
       const map = {};
       const result = { maxCount: 0,words: []};//åˆå§‹åŒ–è®°å½•ç»“æœ
       list.forEach(word => {
           let count = 1;
           if(Object.hasOwn(map,word)){
               count += map[word];
           }
           map[word] = count;
           if(count > result.maxCount){
               result.maxCount = count;
               result.words = [word];
           } else if (count === result.maxCount) {
               result.words.push(word);;
           }
       });
       return result;
   };
   ```

   .match æ‰¾åˆ°æ‰€æœ‰å­—ç¬¦ forEach åˆ—å‡ºæ•°ç»„çš„æ¯ä¸ªå…ƒç´ 

   <iframe src="/blog_file/å‰ç«¯åŸºç¡€é¢˜/findMostWord.html" width="100%" height="500px"></iframe>

4. **é˜²æŠ–å’ŒèŠ‚æµ**ï¼šè¯·è§£é‡Šé˜²æŠ–å’ŒèŠ‚æµçš„åŒºåˆ«ï¼Œå¹¶ç”¨JavaScriptå®ç°ä¸€ä¸ªé˜²æŠ–å‡½æ•°ã€‚

## ğŸ“€äºŒã€React æ¡†æ¶åº”ç”¨

### ä¸€ã€ä»€ä¹ˆæ˜¯Hooks?

`Hook`ç¿»è¯‘è¿‡æ¥æ˜¯**é’©å­**çš„æ„æ€ï¼Œå…¶æœ¬è´¨ä¸Šæ˜¯ä¸€ç»„å¯å¤ç”¨çš„å‡½æ•°ã€‚

ç®€å•ç†è§£ï¼šèƒ½å¤Ÿåœ¨ä¸åŒçš„ç»„ä»¶ä¸­ï¼Œå®ç°ç›¸åŒçš„ä»£ç é€»è¾‘ï¼Œä»¥è¾¾åˆ°ä»£ç å¤ç”¨ã€æé«˜ç»´æŠ¤æ€§çš„æ•ˆæœã€‚

### äºŒã€ä½¿ç”¨åœºæ™¯

é€»è¾‘å¤ç”¨ï¼šå½“å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«ç›¸åŒçš„é€»è¾‘æ—¶ï¼Œå¯ä»¥å°†è¿™äº›é€»è¾‘å°è£…æˆä¸€ä¸ªHookï¼Œç„¶ååœ¨éœ€è¦çš„ç»„ä»¶ä¸­å¯¼å…¥å¹¶ä½¿ç”¨ã€‚å¯ä»¥é¿å…ä»£ç é‡å¤ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§ã€‚

é€»è¾‘æ‹†åˆ†ï¼šå¯¹äºå¤æ‚çš„ç»„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨Hookså°†ç»„ä»¶çš„é€»è¾‘æ‹†åˆ†æˆå¤šä¸ªç‹¬ç«‹çš„å‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°è´Ÿè´£å¤„ç†ä¸€éƒ¨åˆ†é€»è¾‘ã€‚å¯ä»¥ä½¿ç»„ä»¶çš„ä»£ç æ›´åŠ æ¸…æ™°ã€æ˜“äºç»´æŠ¤ã€‚

å‰¯ä½œç”¨ç®¡ç†ï¼šHooksä¸­çš„å‡½æ•°å¯ä»¥è®¿é—®ç»„ä»¶çš„å“åº”å¼æ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œï¼ˆå¦‚å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬ç­‰ï¼‰ã€‚é€šè¿‡ä½¿ç”¨Hooksï¼Œå¯ä»¥æ›´å¥½åœ°ç®¡ç†è¿™äº›å‰¯ä½œç”¨æ“ä½œï¼Œç¡®ä¿å®ƒä»¬åœ¨ç»„ä»¶å¸è½½æ—¶å¾—åˆ°æ­£ç¡®çš„æ¸…ç†ã€‚

### ä¸‰ã€å‰ç«¯ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°

å‰ç«¯ç”Ÿå‘½å‘¨æœŸå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªä¸»è¦é˜¶æ®µï¼š

åŠ è½½ï¼ˆLoadingï¼‰ï¼šæµè§ˆå™¨åŠ è½½ HTMLã€CSS å’Œ JavaScript æ–‡ä»¶ã€‚

è§£æï¼ˆParsingï¼‰ï¼šæµè§ˆå™¨è§£æ HTML å’Œ CSSï¼Œæ„å»º DOM å’Œ CSSOMã€‚

æ¸²æŸ“ï¼ˆRenderingï¼‰ï¼šæµè§ˆå™¨å°† DOM å’Œ CSSOM ç»“åˆï¼Œç”Ÿæˆæ¸²æŸ“æ ‘å¹¶ç»˜åˆ¶é¡µé¢ã€‚

äº¤äº’ï¼ˆInteractivityï¼‰ï¼šç”¨æˆ·ä¸é¡µé¢äº¤äº’ï¼ŒJavaScript æ‰§è¡Œã€‚

é”€æ¯ï¼ˆUnloadingï¼‰ï¼šé¡µé¢è¢«å¸è½½æˆ–é”€æ¯ã€‚



reactä¸­çš„classç»„ä»¶æ˜¯æ‹¥æœ‰ç”Ÿå‘½å‘¨æœŸçš„ã€‚
ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºï¼šmountingï¼Œupdatingï¼Œunmountingä¸‰ä¸ªé˜¶æ®µã€‚

1. **useEffect/**ç”Ÿå‘½å‘¨æœŸï¼šuseEffectçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸï¼Ÿ

   useEffectæ˜¯Reactä¸­ç”¨äºå¤„ç†å‰¯ä½œç”¨çš„é’©å­(hock)ã€‚å¹¶ä¸”å……å½“ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚å‰¯ä½œç”¨å‡½æ•°æ˜¯åœ¨æ‰§è¡Œæ—¶ä¼šæ”¹å˜å¤–éƒ¨çŠ¶æ€æˆ–è€…ä¾èµ–å¤–éƒ¨å¯å˜çŠ¶æ€çš„å‡½æ•°ã€‚reactä¸­çš„classç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºï¼šmountingï¼Œupdatingï¼Œunmountingä¸‰ä¸ªé˜¶æ®µã€‚

   è™½ç„¶useEffectä¸èƒ½å®Œå…¨æ›¿ä»£æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œä½†å®ƒå¯ä»¥å®ç°å¤§éƒ¨åˆ†å¸¸è§çš„ç”Ÿå‘½å‘¨æœŸåŠŸèƒ½ã€‚

   **ä½¿ç”¨useEffectæ¨¡æ‹ŸcomponentDidMountã€componentDidUpdateã€componentWillUnmount**

   ```javascript
    useEffect(() => {
      // è¿™é‡Œçš„ä»£ç ä¼šåœ¨ç»„ä»¶æŒ‚è½½åæ‰§è¡Œï¼Œç±»ä¼¼äº componentDidMount
      console.log('Component mounted or updated, count:', count);
    }, []); // ç©ºæ•°ç»„ä½œä¸ºä¾èµ–é¡¹ï¼Œç¡®ä¿åªåœ¨ç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œ
   
   useEffect(() => {
     // componentDidUpdate é€»è¾‘
   }, [variable1, variable2]);
   
   useEffect(() => {
     // componentDidMount é€»è¾‘
   
     return () => {
       // componentWillUnmount é€»è¾‘
     };
   }, []);
   ```

2. **ç»„ä»¶çŠ¶æ€/****å±æ€§**ï¼šè¯·è§£é‡Š state å’Œ props çš„åŒºåˆ«ï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜å®ƒä»¬çš„ç”¨é€”ã€‚

   stateæ˜¯Reactç»„ä»¶å†…éƒ¨çš„æ•°æ®å­˜å‚¨ï¼Œç”±ç»„ä»¶æœ¬èº«ç®¡ç†ï¼Œé€šå¸¸ç”¨äºä¿å­˜ç»„å»ºçš„å¯å˜æ•°æ®ï¼Œå½“stateæ”¹å˜æ—¶ï¼ŒReactä¼šè‡ªåŠ¨è§¦å‘é‡æ–°æ¸²æŸ“ã€‚

   propsæ˜¯ç”±çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®ï¼Œpropsæ˜¯åªè¯»çš„ï¼Œå­ç»„ä»¶ä¸èƒ½ä¿®æ”¹ä»–ä»¬ã€‚

   åŒºåˆ«åœ¨äºï¼šstateå¯å˜ï¼Œç”±ç»„ä»¶è‡ªèº«ç®¡ç†ï¼Œç»„ä»¶å†…éƒ¨ä»£ç å¯ä»¥è‡ªç”±ä¿®æ”¹stateï¼Œå¹¶æ ¹æ®stateå˜åŒ–æ¥æ›´æ–°æ¸²æŸ“ï¼Œstateæ˜¯å¯å˜çš„ã€‚propsæ˜¯ç”±çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶æ— æ³•ä¿®æ”¹propsï¼Œå®ƒåªèƒ½æ¥æ”¶å¹¶ä½¿ç”¨çˆ¶ç»„ä»¶ä¼ é€’çš„æ•°æ®ï¼Œpropsæ˜¯åªè¯»çš„ã€‚

   Stateç”¨äºä¿å­˜ç»„ä»¶å†…éƒ¨çš„åŠ¨æ€æ•°æ®ï¼Œé€šå¸¸ç”¨äºç”¨æˆ·äº¤äº’ï¼Œä¾‹å¦‚åˆ›å»ºä¸€ä¸ªè®¡æ•°å™¨ç»„ä»¶ï¼Œç”¨æˆ·ç‚¹å‡»æŒ‰é’®å¢åŠ è®¡æ•°ï¼Œå°±å¯ä»¥ç”¨stateç”¨äºä¿å­˜è®¡æ•°å€¼ï¼Œæ¯æ¬¡ç”¨æˆ·ç‚¹å‡»stateå°±ä¼šæ›´æ–°ï¼Œä½¿å¾—ç»„ä»¶é‡æ–°æ¸²æŸ“

   Propsç”¨äºå±•ç¤ºæ•°æ®æˆ–è°ƒç”¨æ–¹æ³•ï¼Œå‡è®¾æœ‰ä¸€ä¸ªUserç»„ä»¶ï¼Œçˆ¶ç»„ä»¶é€šè¿‡propså‘å­ç»„ä»¶ä¼ é€’ç”¨æˆ·æ•°æ®ï¼Œä¾‹å¦‚ç”¨æˆ·åç­‰ç­‰ï¼Œå­ç»„ä»¶åªè´Ÿè´£æ¥æ”¶å¹¶å±•ç¤ºè¿™äº›æ•°æ®

## ğŸ¥§ä¸‰ã€React åº”ç”¨å®è·µ

### å…¸å‹é¡¹ç›®ç»“æ„

```tex
my-react-app/
|-- public/
|   |-- index.html            # å…¬å…±HTMLæ–‡ä»¶
|   |-- favicon.ico           # ç½‘ç«™å›¾æ ‡
|-- src/
|   |-- index.js              # å…¥å£æ–‡ä»¶
|   |-- App.js                # ä¸»ç»„ä»¶
|   |-- App.css               # ä¸»ç»„ä»¶çš„æ ·å¼
|   |-- index.css             # å…¨å±€æ ·å¼
|   |-- components/           # å­˜æ”¾æ‰€æœ‰ç»„ä»¶
|   |   |-- Button/
|   |   |   |-- Button.js
|   |   |   |-- Button.css
|   |   |-- Header/
|   |   |   |-- Header.js
|   |   |   |-- Header.css
|   |-- containers/           # å­˜æ”¾å®¹å™¨ç»„ä»¶ï¼ˆé€šå¸¸ä¸Reduxæˆ–å…¶ä»–çŠ¶æ€ç®¡ç†åº“ç»“åˆä½¿ç”¨ï¼‰
|   |-- actions/              # å­˜æ”¾actionåˆ›å»ºå‡½æ•°ï¼ˆä¸Reduxç»“åˆä½¿ç”¨ï¼‰
|   |-- reducers/             # å­˜æ”¾reducerå‡½æ•°ï¼ˆä¸Reduxç»“åˆä½¿ç”¨ï¼‰
|   |-- store/                # å­˜æ”¾storeé…ç½®ï¼ˆä¸Reduxç»“åˆä½¿ç”¨ï¼‰
|   |-- styles/               # å­˜æ”¾å…¨å±€æ ·å¼æˆ–å¯å¤ç”¨çš„æ ·å¼ç»„ä»¶
|   |-- utils/                # å­˜æ”¾å·¥å…·å‡½æ•°æˆ–å¸®åŠ©å‡½æ•°
|   |-- api/                  # å­˜æ”¾APIè°ƒç”¨ç›¸å…³çš„å‡½æ•°
|-- .gitignore              # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
|-- package.json            # é¡¹ç›®é…ç½®æ–‡ä»¶
|-- README.md               # é¡¹ç›®è¯´æ˜æ–‡ä»¶
```

#### å®æˆ˜ä¸€

1. **åº”ç”¨å®è·µï¼š**è¯·ä½¿ç”¨ç´ æä¸­ react-timer-app é¡¹ç›®ï¼Œå®ç°ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œå…·å¤‡ä»¥ä¸‹åŠŸèƒ½å’Œè¦æ±‚ï¼š

**åŠŸèƒ½**ï¼š

\1. å¼€å§‹è®¡æ—¶ï¼šç‚¹å‡»æŒ‰é’®åï¼Œè®¡æ—¶å™¨å¼€å§‹è¿è¡Œã€‚

\2. åœæ­¢è®¡æ—¶ï¼šç‚¹å‡»æŒ‰é’®åï¼Œè®¡æ—¶å™¨åœæ­¢è¿è¡Œã€‚

\3. å®æ—¶æ›´æ–°ï¼šè®¡æ—¶å™¨æ¯éš” 1 ç§’æ›´æ–°ä¸€æ¬¡æ˜¾ç¤ºçš„æ—¶é—´ã€‚

**è¦æ±‚ï¼š**

\1. åŠŸèƒ½é€»è¾‘å®Œæ•´ï¼Œç¡®ä¿å¼€å§‹ã€åœæ­¢å’Œæ›´æ–°æ—¶é—´çš„åŠŸèƒ½æ­£å¸¸è¿è¡Œã€‚

\2. å®Œæˆå¼€å‘åï¼Œ**å½•åˆ¶ä¸€æ®µè®¡æ—¶å™¨è¿è¡Œçš„æ¼”ç¤ºè§†é¢‘**ï¼Œè¦æ±‚è¿è¡Œæ•ˆæœæ¸…æ™°ã€‚

JavaScript setTimeout() ç”¨æ³•

setTimeout() æ˜¯å±äº window çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨äºåœ¨æŒ‡å®šçš„æ¯«ç§’æ•°åè°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼ã€‚

è¯­æ³•æ ¼å¼å¯ä»¥æ˜¯ä»¥ä¸‹ä¸¤ç§ï¼š

> setTimeout(è¦æ‰§è¡Œçš„ä»£ç , ç­‰å¾…çš„æ¯«ç§’æ•°)
> setTimeout(JavaScript å‡½æ•°, ç­‰å¾…çš„æ¯«ç§’æ•°)

ç¤ºä¾‹ä¸€

```javascript
setTimeout("alert('å¯¹ä¸èµ·, è¦ä½ ä¹…å€™')", 3000 )
```

ç¤ºä¾‹äºŒ

```html
<p id="content"> è¯·ç­‰ä¸‰ç§’é’Ÿ!</p>  
<script>  
setTimeout("changeState()",3000 );  
function changeState(){  
    let content=document.getElementById('content');  
    content.innerHTML="<div style='color:red'>æˆ‘æ˜¯ä¸‰ç§’åæ˜¾ç¤ºçš„å†…å®¹ï¼</div>";  
}  
</script>
```

<iframe src="/blog_file/å‰ç«¯åŸºç¡€é¢˜/settimeout.html" width="100%" height="500px"></iframe>

```javascript
// å¼€å§‹è®¡æ—¶
const startTimer = () => {
    setIsActive(true);
};
```

`const App = () => {}`ï¼šè¿™æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼ˆarrow functionï¼‰å®šä¹‰ã€‚

setInterval() æ–¹æ³•å¯æŒ‰ç…§æŒ‡å®šçš„å‘¨æœŸï¼ˆä»¥æ¯«ç§’è®¡ï¼‰æ¥è°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼

åœ¨ React çš„ `useState` ä¸­ï¼Œæ›´æ–°çŠ¶æ€æ—¶å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¼ å…¥ä¸€ä¸ªå€¼ã€‚è¿™ç§æ–¹å¼ç§°ä¸º **å‡½æ•°å¼æ›´æ–°**ã€‚

- **å‡½æ•°å¼æ›´æ–°çš„è¯­æ³•ï¼š**

  JavaScript

  å¤åˆ¶

  ```javascript
  setState((prevState) => newState);
  ```

  

  - `setState` æ˜¯ç”± `useState` è¿”å›çš„æ›´æ–°å‡½æ•°ã€‚
  - `prevState` æ˜¯å½“å‰çŠ¶æ€çš„å€¼ã€‚
  - `newState` æ˜¯åŸºäº `prevState` è®¡ç®—å‡ºçš„æ–°çŠ¶æ€å€¼ã€‚

```jsx
import React, { useState , useEffect } from "react";
import "./index.css";

function App() {
    const [time, setTime] = useState(0); // åˆå§‹åŒ–å€¼ä¸º0
    const [isActive, setIsActive] = useState(false); // æ§åˆ¶è®¡æ—¶å™¨æ˜¯å¦åœ¨è¿è¡Œ

    // å¼€å§‹è®¡æ—¶
    const startTimer = () => {
        setIsActive(true);
    };

    // åœæ­¢è®¡æ—¶
    const stopTimer = () => {
        setIsActive(false);
    };

    // é‡ç½®è®¡æ—¶å™¨
    const resetTimer = () => {
        setIsActive(false);
        setTime(0);
    };

    // ä½¿ç”¨ useEffect æ¥å¤„ç†è®¡æ—¶é€»è¾‘
    useEffect(() => {
        let interval = null;

        if (isActive) {
            interval = setInterval(() => {
                setTime((prevTime) => prevTime + 1); //ä¼ å…¥ä¸€ä¸ªæ–¹æ³• æ¯ç§’å¢åŠ 1ç§’
            }, 1000);
        } else if (!isActive && time !== 0) {
            clearInterval(interval); // åœæ­¢è®¡æ—¶æ—¶ï¼Œæ¸…é™¤å®šæ—¶å™¨
        }

        // æ¸…ç†å‡½æ•°ï¼Œæ¸…æ¥šå®šæ—¶å™¨å’Œæ—¶é—´
        return () => clearInterval(interval);
    }, [isActive, time]);

    return (
        <div className="App">
            <h3>å®ç°ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œå…·å¤‡ä»¥ä¸‹åŠŸèƒ½å’Œè¦æ±‚ï¼š</h3>
            <h4>åŠŸèƒ½ï¼š</h4>
            <p>1. å¼€å§‹è®¡æ—¶ï¼šç‚¹å‡»æŒ‰é’®åï¼Œè®¡æ—¶å™¨å¼€å§‹è¿è¡Œã€‚</p>
            <p>2. åœæ­¢è®¡æ—¶ï¼šç‚¹å‡»æŒ‰é’®åï¼Œè®¡æ—¶å™¨åœæ­¢è¿è¡Œã€‚</p>
            <p>3. å®æ—¶æ›´æ–°ï¼šè®¡æ—¶å™¨æ¯éš” 1 ç§’æ›´æ–°ä¸€æ¬¡æ˜¾ç¤ºçš„æ—¶é—´ã€‚</p>

            <h4>è¦æ±‚ï¼š</h4>
            <p>1. åŠŸèƒ½é€»è¾‘å®Œæ•´ï¼Œç¡®ä¿å¼€å§‹ã€åœæ­¢å’Œæ›´æ–°æ—¶é—´çš„åŠŸèƒ½æ­£å¸¸è¿è¡Œã€‚</p>
            <p>
                2.
                å®Œæˆå¼€å‘åï¼Œå½•åˆ¶ä¸€æ®µè®¡æ—¶å™¨è¿è¡Œçš„æ¼”ç¤ºè§†é¢‘ï¼Œè¦æ±‚æ¸…æ™°å±•ç¤ºè®¡æ—¶å™¨çš„è¿è¡Œæ•ˆæœã€‚
            </p>

            <h4>å®ç°ï¼š</h4>
            <div className="timer">
                <button onClick={startTimer}>å¼€å§‹è®¡æ—¶</button>
                <button onClick={stopTimer}>ç»“æŸè®¡æ—¶</button>
            </div>
            <div>
                è®¡æ—¶ï¼š<span className="primary">{time}</span> ç§’
            </div>
        </div>
    );
}


export default App;

```

#### å®æˆ˜äºŒ

![image-20250419071841917](../../.vuepress/public/blog_images/image-20250419071841917.png)



**Redux**æœ€æ—©è¿ç”¨äº**React**æ¡†æ¶ä¸­ï¼Œæ˜¯ä¸€ä¸ªå…¨å±€çŠ¶æ€ç®¡ç†å™¨ï¼Œä½¿ç”¨å«åšâ€œactionâ€çš„äº‹ä»¶æ¥ç®¡ç†å’Œæ›´æ–°åº”ç”¨çŠ¶æ€çš„æ¨¡å¼å’Œå·¥å…·åº“ã€‚å®ƒä»¥é›†ä¸­å¼Storeï¼ˆcentralized storeï¼‰çš„æ–¹å¼å¯¹æ•´ä¸ªåº”ç”¨ä¸­ä½¿ç”¨çš„çŠ¶æ€è¿›è¡Œé›†ä¸­ç®¡ç†ï¼Œå…¶è§„åˆ™ç¡®ä¿çŠ¶æ€åªèƒ½ä»¥å¯é¢„æµ‹çš„æ–¹å¼æ›´æ–°ã€‚

ä¸ºä»€ä¹ˆè¦ç”¨ Reduxï¼Ÿ

**Redux æä¾›çš„æ¨¡å¼å’Œå·¥å…·ä½¿æ‚¨æ›´å®¹æ˜“ç†è§£åº”ç”¨ç¨‹åºä¸­çš„çŠ¶æ€ä½•æ—¶ã€ä½•åœ°ã€ä¸ºä»€ä¹ˆä»¥åŠå¦‚ä½•æ›´æ–°ï¼Œä»¥åŠå½“è¿™äº›æ›´æ”¹å‘ç”Ÿæ—¶æ‚¨çš„åº”ç”¨ç¨‹åºé€»è¾‘å°†å¦‚ä½•è¡¨ç°**. Redux æŒ‡å¯¼æ‚¨ç¼–å†™å¯é¢„æµ‹å’Œå¯æµ‹è¯•çš„ä»£ç ï¼Œè¿™æœ‰åŠ©äºè®©æ‚¨ç¡®ä¿¡æ‚¨çš„åº”ç”¨ç¨‹åºå°†æŒ‰é¢„æœŸå·¥ä½œã€‚

Redux åœ¨ä»¥ä¸‹æƒ…å†µä¸‹æ›´æœ‰ç”¨ï¼š

- åœ¨åº”ç”¨çš„**å¤§é‡åœ°æ–¹**ï¼Œéƒ½å­˜åœ¨**å¤§é‡çš„çŠ¶æ€**
- åº”ç”¨çŠ¶æ€ä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œ**é¢‘ç¹æ›´æ–°**
- æ›´æ–°è¯¥çŠ¶æ€çš„**é€»è¾‘å¯èƒ½å¾ˆå¤æ‚**
- ä¸­å‹å’Œå¤§å‹ä»£ç é‡çš„åº”ç”¨ï¼Œ**å¾ˆå¤šäººååŒå¼€å‘**

## Redux æœ¯è¯­

### Action (åŠ¨ä½œ)

**action**æ˜¯ä¸€ä¸ªå…·æœ‰ **type** å­—æ®µçš„æ™®é€š JavaScript å¯¹è±¡ã€‚**ä½ å¯ä»¥å°† action è§†ä¸ºæè¿°åº”ç”¨ç¨‹åºä¸­å‘ç”Ÿäº†ä»€ä¹ˆçš„äº‹ä»¶**.

ä¸€ä¸ªå…¸å‹çš„ action å¯¹è±¡å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š

```js
const addTodoAction = {
  type: 'todos/todoAdded',
  payload: 'Buy milk'
}
```

### Reducer (ç¼©å‡å™¨)

**reducer** æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶å½“å‰çš„ **state** å’Œä¸€ä¸ª **action** å¯¹è±¡ï¼Œå¿…è¦æ—¶å†³å®šå¦‚ä½•æ›´æ–°çŠ¶æ€ï¼Œå¹¶è¿”å›æ–°çŠ¶æ€ã€‚å‡½æ•°ç­¾åæ˜¯ï¼š(state, action) => newStateã€‚ä½ å¯ä»¥å°† reducer è§†ä¸ºä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œå®ƒæ ¹æ®æ¥æ”¶åˆ°çš„ actionï¼ˆäº‹ä»¶ï¼‰ç±»å‹å¤„ç†äº‹ä»¶ã€‚

### Store (ä»“åº“)

å½“å‰ Redux åº”ç”¨çš„çŠ¶æ€å­˜åœ¨äºä¸€ä¸ªåä¸º **store** çš„å¯¹è±¡ä¸­ã€‚

store æ˜¯é€šè¿‡ä¼ å…¥ä¸€ä¸ª reducer æ¥åˆ›å»ºçš„ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªåä¸º **getState** çš„æ–¹æ³•ï¼Œå®ƒè¿”å›å½“å‰çŠ¶æ€å€¼ï¼š



*æ–‡å­—å†™äºï¼šå¹¿ä¸œ*