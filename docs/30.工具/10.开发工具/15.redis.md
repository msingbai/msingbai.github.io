---
title: redis
date: 2023-03-04 11:04:45
permalink: /dev/e3155e/
categories:
  - 工具
  - 开发工具
tags:
  - redis
  - redis错误
  - redis安装
---

## 前言

使用`redis`中遇到的奇葩问题，本文持续更新

<!-- more -->

<InArticleAdsense
    data-ad-client="ca-pub-1725717718088510"
    data-ad-slot="7426219401">
</InArticleAdsense>

## 安装 `redis`

### 压缩包安装 `redis`

> 本次以 `7.2.2` 版本为例

1. 先安装基础组件

    ``` shell
    yum install -y gcc tcl
    ```

2. 在官网下载`tar.gz`的安装包，或者通过`wget`的方式下载

    ``` shell
    wget https://github.com/redis/redis/archive/7.2.2.tar.gz
    mv 7.2.2.tar.gz redis-7.2.2.tar.gz
    ```

3. 解压

    ``` shell
    tar -zxvf redis-7.2.2.tar.gz
    ```

4. 编译，通过`make`来编译，`make`是自动编译，会根据`Makefile`中描述的内容来进行编译。

    ``` shell
    cd redis-7.2.2
    make
    ```

5. 安装

    ``` shell
    make install
    ```

    > 默认安装路径是在 `/usr/local/bin` 目录下

6. 启动服务器，来看看安装是否成功。

#### 基础命令

##### 启动

1. 前台启动：在任何目录下执行 `redis-server`
2. 后台启动：在任何目录下执行 `redis-server &`
3. 启动redis服务时，指定配置文件：`redis-server redis.conf &` ，这种主要用于你改了配置文件的情况，比如你把默认端口号改了，你就用这个，正常也用这个


## `MISCONF Redis is configured to save RDB snapshots, but is currently not able to persist on`

### 翻译

`Redis`被配置为保存数据库快照，但它目前不能持久化到硬盘。用来修改集合数据的命令不能用。请查看Redis日志的详细错误信息。

### 解决方案

``` shell
vi /etc/sysctl.conf

## 添加一个配置
vm.overcommit_memory = 1
## 保存后然后重启
```
